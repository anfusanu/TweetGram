<div class=" d-flex align-items-center justify-content-center" style="height: 100vh;">
  <div class="card text-center mycard align-middle border-0 shadow-lg">
    <div class=" align-middle p-1 loginHead">
      SIGN UP
    </div>
    <div class="card-body">
      <form action="/user/signupForm" method="POST" name="signupForm" id="signupForm">

        <input id="signup-name" name="name" class="form-control p-3 myInput shadow-none" placeholder="Enter Name"
          oninput="newNameValid()">
        <div style="height: 1.8rem;">
          <small class="form-text text-muted">

            <span id="signup-nameErr" class="formValid"></span>

          </small>
        </div>


        <input id="signup-username" name="username" class="form-control p-3 myInput shadow-none"
          placeholder="Enter Email" oninput="newUserValid()">
        <div style="height: 1.8rem;">
          <small class="form-text text-muted">

            <span id="signup-userErr" class="formValid"></span>

          </small>
        </div>

        <div class="input-group pt-1">
          <input id="signup-password" name="password" type="password" class="form-control p-3 myInput shadow-none"
            placeholder="Password" oninput="newPassValid()">

        </div>
        <div style="height: 1.8rem;">
          <small class="form-text text-muted">
            <span id="signup-passErr" class="formValid"></span>
          </small>
        </div>
        <div class="input-group pt-1">
          <input id="signup-password2" name="password2" type="password" class="form-control p-3 myInput shadow-none"
            placeholder="Confirm Password" oninput="newPassConfirm()">

        </div>
        <div style="height: 1.8rem;">
          <small class="form-text text-muted">
            <span id="signup-passErr2" class="formValid"></span>
            {{#if message}}
            <script>
              document.getElementById('signup-passErr2').innerHTML = "Email already exist";
              setTimeout(() => {
                document.getElementById('signup-passErr2').innerHTML = "";
              }, 3000)
            </script>
            {{/if}}
          </small>
        </div>

        <div class="form-group pt-3">
          <button type="submit" class="btn p-3 buttonLogin"
            onclick="newUserValid();newPassValid();newPassConfirm();newNameValid();">SIGN UP</button>
        </div>

      </form>
      <div class="mt-3">
        <a href="/user" class="login-signup-switch">Already a user? Log in</a>

      </div>
    </div>

  </div>

</div>
</div>
<script>

  document.signupForm.addEventListener("submit", function (event) {

    var user = this.querySelector("input[id=signup-username]").value;
    var pass = this.querySelector("input[id=signup-password]").value;
    var pass2 = this.querySelector("input[id=signup-password2]").value;
    var name = this.querySelector("input[id=signup-name]").value;



    var regx = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    var regx2 = /^[a-zA-Z\s]*$/;


    if (name.trim() == "" || !name.match(regx2)) {
      document.getElementById("signup-name").focus();
      event.preventDefault();
    } else if (name.length < 5) {
      document.getElementById("signup-name").focus();
      event.preventDefault();
    } else if (user.trim() == "" || !user.match(regx)) {
      document.getElementById("signup-username").focus();
      event.preventDefault();
    } else if (pass.trim() == "" || pass.length < 5) {
      document.getElementById("signup-password").focus();
      event.preventDefault();
    } else if (pass.trim() != pass2.trim()) {
      document.getElementById("signup-password2").focus();
      event.preventDefault();

    }
  });

</script>